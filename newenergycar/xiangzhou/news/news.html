<!DOCTYPE html>
<html dir="ltr" lang="en-US">

	<head>
		<title>新闻动态-上海翔舟客运集团</title>

		<meta http-equiv="X-UA-Compatible" content="IE=edge" charset="utf-8">
		<meta name="renderer" content="webkit">
		<meta name="author" content="SemiColonWeb" />
		<meta name="Keywords" content="上海翔舟客运集团">

		<meta name="Description" content="上海翔舟客运集团">

		<!-- Stylesheets
    ============================================= -->
		<link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

		<link rel="stylesheet" href="../css/bootstrap.css" type="text/css" />
		<link rel="stylesheet" href="../css/style.css" type="text/css" />
		<link rel="stylesheet" href="../css/dark.css" type="text/css" />
		<link rel="stylesheet" href="../css/font-icons.css" type="text/css" />
		<link rel="stylesheet" href="../css/animate.css" type="text/css" />
		<link rel="stylesheet" href="../css/magnific-popup.css" type="text/css" />
		<link rel="stylesheet" href="../css/responsive.css" type="text/css" />
		<link rel="stylesheet" href="../css/camera.css" type="text/css" />

		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
		<!--[if lt IE 9]>
    	<script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
    <![endif]-->

		<!-- External JavaScripts
    ============================================= -->
		<script type="text/javascript" src="../js/jquery.js"></script>
		<script type="text/javascript" src="../js/plugins.js"></script>
		<script type="text/javascript" src="../js/jquery.camera.js"></script>

		<!--<script type="text/javascript">
			var cpro_id = "u837382";
		</script>-->
		<script src="../js/f.js" type="text/javascript"></script>
	</head>
	<script src="../js/vue.js"></script>

	<body class="stretched">

		<!-- Document Wrapper
    ============================================= -->
		<div id="wrapper" class="clearfix">

			<!-- Header
        ============================================= -->
			<header id="header" class="page-section full-header">

				<div id="header-wrap">

					<div class="container clearfix">

						<div id="primary-menu-trigger"><i class="fa fa-th-list"></i></div>

						<!-- Logo
                    ============================================= -->
						<div id="logo">
							<a href="../index.html" class="standard-logo" data-dark-logo="images/logo-dark.png"><img src="../images/logo.png" alt="上海翔舟客运集团"></a>
							<a href="index.html" class="retina-logo" data-dark-logo="images/logo-dark@2x.png"><img src="../images/logo.png" alt="上海翔舟客运集团"></a>
						</div>
						<!-- #logo end -->

						<!-- Primary Navigation
                    ============================================= -->
						<nav id="primary-menu">

							<ul>
								<li>
									<a href="../index.html">首页</a>
								</li>

								<li>
									<a href="../about/aboutUs.html">关于我们</a>

									<ul>

										<li>
											<a href="../about/businessIntro.html">
												<div>公司简介</div>
											</a>

											<li>
												<a href="../about/businessCulture.html">
													<div>企业风采</div>
												</a>
												<li>
													<a href="../about/developmentHistory.html">
														<div>发展历程</div>
													</a>
													<li>
														<a href="../about/businessCooperation.html">
															<div>合作伙伴</div>
														</a>

									</ul>

									</li>

									<li>
										<a href="../product/productIntro.html">主营业务</a>

										<ul>

											<li>
												<a href="../product/modelIntro.html">
													<div>车型展示</div>
												</a>

												<li>
													<a href="../product/supportingFacilities.html">
														<div>用车模式</div>
													</a>

										</ul>

										</li>

										<li>
											<a href="../news/news.html">新闻动态</a>

											<ul>

												<li>
													<a href="../news/bussinessNews.html">
														<div>企业新闻</div>
													</a>

													<li>
														<a href="../news/energyNews.html">
															<div>新能源新闻</div>
														</a>

											</ul>

											</li>
											<li>
												<a href="../serviceAdvantage.html">售后服务</a>
											</li>
											<li>
												<a href="../joinUs.html">人才招聘</a>
											</li>
											<li>
												<a href="../contact/contactUs.html">联系我们</a>

												<ul>

													<li>
														<a href="../contact/onlineMessage.html">
															<div>在线留言</div>
														</a>

														<li>
															<a href="../contact/contactAndTel.html">
																<div>商务联系</div>
															</a>

												</ul>

												</li>
												<li>
													<a href="#" >客服电话 :
														<div class="phone-text">400-920-3617</div>
													</a>
												</li>
							</ul>

						</nav>
						<!-- #primary-menu end -->
						<script type="text/javascript" language="javascript">
							var nav = document.getElementById("primary-menu");
							var links = nav.getElementsByTagName("li");
							var lilen = nav.getElementsByTagName("a");
							var currenturl = document.location.href;
							var last = 0;
							for(var i = 0; i < links.length; i++) {
								var linkurl = lilen[i].getAttribute("href");
								if(currenturl.indexOf(linkurl) != -1) {
									last = i;
								}
							}
							links[last].className = "current";
						</script>
					</div>

				</div>

			</header>
			<!-- #header end -->
			<!-- #header end -->

			<!-- Content
        ============================================= -->
			<section id="page-title" class="page-title-parallax page-title-dark" style="background-image: url('../images/businessnew.jpg'); height:250px;"></section>
			<!-- #page-title end -->
			<div id="vue-app">
				<section id="content" class="topmargin-lg">
					<div class="container clearfix" style="position: relative;">

						<a href="bussinessNews.html" class="button button-3d button-rounded button-green">企业新闻</a>

						<a href="energyNews.html" class="button button-3d button-rounded button-green">新能源新闻</a>

						<div style="position: absolute; right: 5px; top: 15px;">您当前位置：
							<a href="../index.html">上海翔舟客运集团</a> >>
							<a href="news.html">新闻动态</a> >> 频道首页</div>
						<div class="clear" style="margin-bottom:50px;"></div>
						<div class="divider divider-center"><i class="fa fa-heart-o"></i></div>
					</div>

					<div class="container clearfix">

						<h3>新闻动态</h3>

						<div id="posts" class="events small-thumbs">

							<div class="entry clearfix" v-for="n in news">
								<div class="entry-image">
									<a :href="'newsDetail.html?id='+n.id" target="_blank">
										<img :src="'http://shxzbus.com/'+n.coverImg" :alt="n.title">
										<div class="entry-date">{{n.days}} <span>{{n.month}} </span></div>
									</a>
								</div>
								<div class="entry-c">
									<div class="entry-title">
										<h2><a :href="'newsDetail.html?id='+n.id" target="_blank">{{n.title}}</a></h2>
									</div>
									<ul class="entry-meta clearfix">
										<li><span class="label label-info"><a :href="n.newsType==1?'bussinessNews.html':'energyNews.html'" style="color:#fff;">{{n.newsTypeText}}</a></span></li>
										<li><i class="fa fa-heart"></i>关注：{{n.followCount}}</li>
										<li><i class="fa fa-user"></i> {{n.author}}</li>
									</ul>
									<div class="entry-content">
										<p class="msgintro">{{n.msg}}</p>
										<a :href="'newsDetail.html?id='+n.id" class="btn btn-danger" target="_blank">阅读</a>
									</div>
								</div>
							</div>

							<div class="clear"></div>
							<div class="clear"></div>
							<!--分页-->

						</div>

						<div align="right" class="fenye" id="fenye">
							<ul class="pagination">
								<li v-show="current != 1" @click="current-- && goto(current--)">
									<a href="#" rel="external nofollow" rel="external nofollow" rel="external nofollow">上一页</a>
								</li>
								<li v-for="index in pages" @click="goto(index)" :class="{'active':current == index}" :key="index">
									<a href="#" rel="external nofollow" rel="external nofollow" rel="external nofollow">{{index}}</a>
								</li>
								<li v-show="isLast==false" @click="current++ && goto(current++)">
									<a href="#" rel="external nofollow" rel="external nofollow" rel="external nofollow">下一页</a>
								</li>
							</ul>
						</div>
					</div>

				</section>
			</div>
			<!-- #content end -->

			<!-- Footer
        ============================================= -->
			<footer id="footer" class="dark">

				<!-- Copyrights
            ============================================= -->
				<div id="copyrights">

					<div class="container clearfix">

						<div class="col_half">
							Copyrights &copy; 2014 All Rights Reserved by 翔舟新能源 Inc.<br>
							<div class="copyright-links">
								<a href="index-onepage-2.html#">沪ICP备18032640号
</a>
								<a href="index-onepage-2.html#"></a>
							</div>
						</div>

						<div class="col_half col_last tright">

							<i class="fa fa-envelope"></i> shanghaixiangzhou@163.com
 <span class="middot">·</span> <i class="fa fa-headphones"></i> 021-39880057 <span class="middot">·</span> 翔舟新能源

							<div class="clear"></div>

						</div>

					</div>

				</div>
				<!-- #copyrights end -->

			</footer>
			<!-- #footer end -->
		</div>
		<!-- #wrapper end -->

		<!-- Go To Top
    ============================================= -->
		<div id="gotoTop" class="fa fa-angle-up"></div>

		<!-- Footer Scripts
    ============================================= -->
		<script type="text/javascript" src="../js/functions.js"></script>

	</body>
	<script>
		new Vue({
			el: "#vue-app",
			data() {
				return {
					news: [],
					current: 1,
					isLast: false
				}

			},
			mounted() {
				var news = [];
				var url = "http://shxzbus.com/news/list.do";
				var vm = this;
				var param = {
					page: 1,
					pageSize: 10
				};
				$.post(url, param, function(data) {
					var json = eval('(' + data + ')');
					news = json.result.list;
					vm.$set(vm.$data, "news", news);
					vm.$set(vm.$data, "isLast", json.result.lastPage);

					for(var i = 0; i < news.length; i++) {
						var html = news[i].content;
						var re1 = new RegExp("<.+?>|&nbsp;", "g"); //匹配html标签的正则表达式，"g"是搜索匹配多个符合的内容
						var msg = html.replace(re1, ''); //执行替换成空字符
						vm.$set(vm.$data.news[i], "msg", msg);

						var times = news[i].updateTime;
						var date = new Date(times);
						var month = date.getMonth() + 1;
						var days = date.getDate();
						vm.$set(vm.$data.news[i], "month", month);
						vm.$set(vm.$data.news[i], "days", days);
					}

				});

			},
			computed: {
				pages: function() {
					var pag = [];
					var i = this.current;
					if(!this.isLast) {
						i = i + 1;
						while(i) {
							pag.unshift(i--);
						}
					} else {
						while(i) {
							pag.unshift(i--);
						}
					}
					return pag;
				}
			},
			methods: {
				goto: function(index) {
					if(index == this.current) {
						return;
					} else {
						this.current = index;
						var news = [];
						var url = "http://shxzbus.com/news/list.do";
						var vm = this;
						var param = {
							page: this.current,
							pageSize: 10
						};
						$.post(url, param, function(data) {
							var json = eval('(' + data + ')');
							news = json.result.list;
							vm.$set(vm.$data, "news", news);
							vm.$set(vm.$data, "isLast", json.result.lastPage);

							for(var i = 0; i < news.length; i++) {
								var html = news[i].content;
								var re1 = new RegExp("<.+?>|&nbsp;", "g"); //匹配html标签的正则表达式，"g"是搜索匹配多个符合的内容
								var msg = html.replace(re1, ''); //执行替换成空字符
								vm.$set(vm.$data.news[i], "msg", msg);

								var times = news[i].updateTime;
								var date = new Date(times);
								var month = date.getMonth() + 1;
								var days = date.getDate();
								vm.$set(vm.$data.news[i], "month", month);
								vm.$set(vm.$data.news[i], "days", days);
							}

						});
					}

				}
			}

		});
	</script>

</html>